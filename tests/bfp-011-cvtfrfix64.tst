*Testcase bfp-011-cvtfrfix64.tst: CEGBR, CEGBRA, CDGBR, CDGBRA, CXGBR, CXGBRA

#Testcase bfp-011-cvtfrfix64.tst: IEEE Convert From Fixed (64-bit)
#..Includes CONVERT FROM FIXED 64 (6).  Also tests traps and 
#..exceptions and results from different rounding modes.

sysclear
archmode esame

#
# Following suppresses logging of program checks.  This test program, as part
# of its normal operation, generates 6 program check messages that have no
# value in the validation process.  (The messages, not the program checks.)
#
ostailor quiet

loadcore "$(testpath)/bfp-011-cvtfrfix64.core"

runtest 1.0

ostailor null   # restore messages for subsequent tests


# Inputs converted to BFP short - results
*Compare
r 1000.10
*Want "CEGBR result pairs 1-2"  3F800000 3F800000 40000000 40000000
r 1010.10
*Want "CEGBR result pairs 3-4"  40800000 40800000 C0000000 C0000000
r 1020.10
*Want "CEGBR result pairs 5-6"  5F000000 5F000000 DF000000 DF000000
r 1030.10
*Want "CEGBR result pairs 7-8"  5EFFFFFF 5EFFFFFF DEFFFFFF DEFFFFFF
r 1040.10
*Want "CEGBR result pairs 9-10" 5F000000 5F000000 DF000000 DF000000

# Inputs converted to BFP short - FPCR contents
*Compare
r 1100.10
*Want "CEGBR FPCR pairs 1-2"  00000000 F8000000 00000000 F8000000
r 1110.10
*Want "CEGBR FPCR pairs 3-4"  00000000 F8000000 00000000 F8000000
r 1120.10
*Want "CEGBR FPCR pairs 5-6"  00080000 F8000C00 00080000 F8000C00
r 1130.10
*Want "CEGBR FPCR pairs 7-8"  00000000 F8000000 00000000 F8000000
r 1140.10
*Want "CEGBR FPCR pairs 9-10" 00080000 F8000C00 00080000 F8000C00


# Int-64 to BFP short rounding mode tests - results
r 1200.10
*Want "CEGBRA +away result FPCRmodes 1-3, 7" 5EFFFFFF 5F000000 5EFFFFFF 5EFFFFFF
r 1210.10
*Want "CEGBRA +away result M3 modes 1, 3-5"  5F000000 5EFFFFFF 5F000000 5EFFFFFF
r 1220.08
*Want "CEGBRA +away result M3 modes 6, 7"    5F000000 5EFFFFFF
r 1230.10
*Want "CEGBRA -away result FPCRmodes 1-3, 7" DEFFFFFF DEFFFFFF DF000000 DEFFFFFF
r 1240.10
*Want "CEGBRA -away result M3 modes 1, 3-5"  DF000000 DEFFFFFF DF000000 DEFFFFFF
r 1250.08
*Want "CEGBRA -away result M3 modes 6, 7"    DEFFFFFF DF000000

# Int-64 to BFP short rounding mode tests - results
r 1260.10
*Want "CEGBRA +tie result FPCRmodes 1-3, 7" 5EFFFFFF 5F000000 5EFFFFFF 5EFFFFFF
r 1270.10
*Want "CEGBRA +tie result M3 modes 1, 3-5"  5F000000 5EFFFFFF 5F000000 5EFFFFFF
r 1280.08
*Want "CEGBRA +tie result M3 modes 6, 7"    5F000000 5EFFFFFF
r 1290.10
*Want "CEGBRA -tie result FPCRmodes 1-3, 7" DEFFFFFF DEFFFFFF DF000000 DEFFFFFF
r 12A0.10
*Want "CEGBRA -tie result M3 modes 1, 3-5"  DF000000 DEFFFFFF DF000000 DEFFFFFF
r 12B0.08
*Want "CEGBRA -tie result M3 modes 6, 7"    DEFFFFFF DF000000

# Int-64 to BFP short rounding mode tests - results
r 12C0.10
*Want "CEGBRA +tozero result FPCRmodes 1-3, 7" 5EFFFFFF 5F000000 5EFFFFFF 5EFFFFFF
r 12D0.10
*Want "CEGBRA +tozero result M3 modes 1, 3-5"  5EFFFFFF 5EFFFFFF 5EFFFFFF 5EFFFFFF
r 12E0.08
*Want "CEGBRA +tozero result M3 modes 6, 7"    5F000000 5EFFFFFF
r 12F0.10
*Want "CEGBRA -tozero result FPCRmodes 1-3, 7" DEFFFFFF DEFFFFFF DF000000 DEFFFFFF
r 1300.10
*Want "CEGBRA -tozero result M3 modes 1, 3-5"  DEFFFFFF DEFFFFFF DEFFFFFF DEFFFFFF
r 1310.08
*Want "CEGBRA -tozero result M3 modes 6, 7"    DEFFFFFF DF000000

# Int-64 to BFP short rounding mode tests - FPCR contents
*Compare
r 1500.10
*Want "CEGBRA +away FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 1510.10
*Want "CEGBRA +away M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 1520.08
*Want "CEGBRA +away M3 modes 6, 7 FPCR"    00080000 00080000
r 1530.10
*Want "CEGBRA -away FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 1540.10
*Want "CEGBRA -away M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 1550.08
*Want "CEGBRA -away M3 modes 6, 7 FPCR"    00080000 00080000

r 1560.10
*Want "CEGBRA +tie FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 1570.10
*Want "CEGBRA +tie M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 1580.08
*Want "CEGBRA +tie M3 modes 6, 7 FPCR"    00080000 00080000
r 1590.10
*Want "CEGBRA -tie FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 15A0.10
*Want "CEGBRA -tie M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 15B0.08
*Want "CEGBRA -tie M3 modes 6, 7 FPCR"    00080000 00080000

r 15C0.10
*Want "CEGBRA +tozero FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 15D0.10
*Want "CEGBRA +tozero M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 15E0.08
*Want "CEGBRA +tozero M3 modes 6, 7 FPCR"    00080000 00080000
r 15F0.10
*Want "CEGBRA -tozero FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 1600.10
*Want "CEGBRA -tozero M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 1610.08
*Want "CEGBRA -tozero M3 modes 6, 7 FPCR"    00080000 00080000


# Inputs converted to BFP long - Results
*Compare
r 2000.10
*Want "CDGBR result pair 1" 3FF00000 00000000 3FF00000 00000000
r 2010.10
*Want "CDGBR result pair 2" 40000000 00000000 40000000 00000000 
r 2020.10
*Want "CDGBR result pair 3" 40100000 00000000 40100000 00000000
r 2030.10
*Want "CDGBR result pair 4" C0000000 00000000 C0000000 00000000
r 2040.10
*Want "CDGBR result pair 5" 43E00000 00000000 43E00000 00000000
r 2050.10
*Want "CDGBR result pair 6" C3E00000 00000000 C3E00000 00000000

# Inputs converted to BFP long - FPCR contents
*Compare
r 2100.10
*Want "CDGBR FPCR pairs 1-2" 00000000 F8000000 00000000 F8000000
r 2110.10
*Want "CDGBR FPCR pairs 3-4" 00000000 F8000000 00000000 F8000000
r 2120.10
*Want "CDGBR FPCR pairs 5-6" 00080000 F8000C00 00080000 F8000C00


# BFP long rounding mode tests - positive input results
*Compare
r 2200.10
*Want "CDGBRA +away FPCRmodes 1, 2" 43DFFFFF FFFFFFFF 43E00000 00000000
r 2210.10
*Want "CDGBRA +away FPCRmodes 3, 7" 43DFFFFF FFFFFFFF 43DFFFFF FFFFFFFF
r 2220.10
*Want "CDGBRA +away M3 modes 1, 3"  43E00000 00000000 43DFFFFF FFFFFFFF
r 2230.10
*Want "CDGBRA +away M3 modes 4, 5"  43E00000 00000000 43DFFFFF FFFFFFFF
r 2240.10
*Want "CDGBRA +away M3 modes 6, 7"  43E00000 00000000 43DFFFFF FFFFFFFF
r 2250.10
*Want "CDGBRA -away FPCRmodes 1, 2" C3DFFFFF FFFFFFFF C3DFFFFF FFFFFFFF
r 2260.10
*Want "CDGBRA -away FPCRmodes 3, 7" C3E00000 00000000 C3DFFFFF FFFFFFFF
r 2270.10
*Want "CDGBRA -away M3 modes 1, 3"  C3E00000 00000000 C3DFFFFF FFFFFFFF
r 2280.10
*Want "CDGBRA -away M3 modes 4, 5"  C3E00000 00000000 C3DFFFFF FFFFFFFF
r 2290.10
*Want "CDGBRA -away M3 modes 6, 7"  C3DFFFFF FFFFFFFF C3E00000 00000000

r 22A0.10
*Want "CDGBRA +tie FPCRmodes 1, 2" 43DFFFFF FFFFFFFF 43E00000 00000000
r 22B0.10
*Want "CDGBRA +tie FPCRmodes 3, 7" 43DFFFFF FFFFFFFF 43DFFFFF FFFFFFFF
r 22C0.10
*Want "CDGBRA +tie M3 modes 1, 3"  43E00000 00000000 43DFFFFF FFFFFFFF
r 22D0.10
*Want "CDGBRA +tie M3 modes 4, 5"  43E00000 00000000 43DFFFFF FFFFFFFF
r 22E0.10
*Want "CDGBRA +tie M3 modes 6, 7"  43E00000 00000000 43DFFFFF FFFFFFFF
r 22F0.10
*Want "CDGBRA -tie FPCRmodes 1, 2" C3DFFFFF FFFFFFFF C3DFFFFF FFFFFFFF
r 2300.10
*Want "CDGBRA -tie FPCRmodes 3, 7" C3E00000 00000000 C3DFFFFF FFFFFFFF
r 2310.10
*Want "CDGBRA -tie M3 modes 1, 3"  C3E00000 00000000 C3DFFFFF FFFFFFFF
r 2320.10
*Want "CDGBRA -tie M3 modes 4, 5"  C3E00000 00000000 C3DFFFFF FFFFFFFF
r 2330.10
*Want "CDGBRA -tie M3 modes 6, 7"  C3DFFFFF FFFFFFFF C3E00000 00000000

r 2340.10
*Want "CDGBRA +tozero FPCRmodes 1, 2" 43DFFFFF FFFFFFFF 43E00000 00000000
r 2350.10
*Want "CDGBRA +tozero FPCRmodes 3, 7" 43DFFFFF FFFFFFFF 43DFFFFF FFFFFFFF
r 2360.10
*Want "CDGBRA +tozero M3 modes 1, 3"  43DFFFFF FFFFFFFF 43DFFFFF FFFFFFFF
r 2370.10
*Want "CDGBRA +tozero M3 modes 4, 5"  43DFFFFF FFFFFFFF 43DFFFFF FFFFFFFF
r 2380.10
*Want "CDGBRA +tozero M3 modes 6, 7"  43E00000 00000000 43DFFFFF FFFFFFFF
r 2390.10
*Want "CDGBRA -tozero FPCRmodes 1, 2" C3DFFFFF FFFFFFFF C3DFFFFF FFFFFFFF
r 23A0.10
*Want "CDGBRA -tozero FPCRmodes 3, 7" C3E00000 00000000 C3DFFFFF FFFFFFFF
r 23B0.10
*Want "CDGBRA -tozero M3 modes 1, 3"  C3DFFFFF FFFFFFFF C3DFFFFF FFFFFFFF
r 23C0.10
*Want "CDGBRA -tozero M3 modes 4, 5"  C3DFFFFF FFFFFFFF C3DFFFFF FFFFFFFF
r 23D0.10
*Want "CDGBRA -tozero M3 modes 6, 7"  C3DFFFFF FFFFFFFF C3E00000 00000000


# BFP long rounding mode tests - positive input FPCR contents
*Compare
r 2700.10
*Want "CDGBRA +away FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 2710.10
*Want "CDGBRA +away M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 2720.08
*Want "CDGBRA +away M3 modes 6, 7 FPCR"    00080000 00080000
r 2730.10
*Want "CDGBRA -away FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 2740.10
*Want "CDGBRA -away M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 2750.08
*Want "CDGBRA -away M3 modes 6, 7 FPCR"    00080000 00080000

r 2760.10
*Want "CDGBRA +tie FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 2770.10
*Want "CDGBRA +tie M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 2780.08
*Want "CDGBRA +tie M3 modes 6, 7 FPCR"    00080000 00080000
r 2790.10
*Want "CDGBRA -tie FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 27A0.10
*Want "CDGBRA -tie M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 27B0.08
*Want "CDGBRA -tie M3 modes 6, 7 FPCR"    00080000 00080000

r 27C0.10
*Want "CDGBRA +tozero FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 27D0.10
*Want "CDGBRA +tozero M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 27E0.08
*Want "CDGBRA +tozero M3 modes 6, 7 FPCR"    00080000 00080000
r 27F0.10
*Want "CDGBRA -tozero FPCRmodes 1-3, 7 FPCR" 00000001 00000002 00000003 00000007
r 2800.10
*Want "CDGBRA -tozero M3 modes 1, 3-5 FPCR"  00080000 00080000 00080000 00080000
r 2810.08
*Want "CDGBRA -tozero M3 modes 6, 7 FPCR"    00080000 00080000


# Inputs converted to BFP Extended - Results
*Compare
r 3000.10
*Want "CXGBR result 1a" 3FFF0000 00000000 00000000 00000000
r 3010.10
*Want "CXGBR result 1b" 3FFF0000 00000000 00000000 00000000
r 3020.10
*Want "CXGBR result 2a" 40000000 00000000 00000000 00000000
r 3030.10
*Want "CXGBR result 2b" 40000000 00000000 00000000 00000000
r 3040.10
*Want "CXGBR result 3a" 40010000 00000000 00000000 00000000
r 3050.10
*Want "CXGBR result 3b" 40010000 00000000 00000000 00000000
r 3060.10
*Want "CXGBR result 4a" C0000000 00000000 00000000 00000000
r 3070.10
*Want "CXGBR result 4b" C0000000 00000000 00000000 00000000
r 3080.10
*Want "CXGBR result 5a" 403DFFFF FFFFFFFF FFFC0000 00000000
r 3090.10
*Want "CXGBR result 5b" 403DFFFF FFFFFFFF FFFC0000 00000000
r 30A0.10
*Want "CXGBR result 6a" C03DFFFF FFFFFFFF FFFC0000 00000000
r 30B0.10
*Want "CXGBR result 6b" C03DFFFF FFFFFFFF FFFC0000 00000000

# Inputs converted to BFP extended - FPCR Contents
*Compare
r 3200.10
*Want "CXGBR FPCRpairs 1-2" 00000000 F8000000 00000000 F8000000
r 3210.10
*Want "CXGBR FPCRpairs 3-4" 00000000 F8000000 00000000 F8000000
r 3220.10
*Want "CXGBR FPCRpairs 5-6" 00000000 F8000000 00000000 F8000000


*Done

