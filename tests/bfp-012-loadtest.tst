*Testcase bfp-012-loadtest.tst:   LTEBR, LTDBR, LTXBR, TCEB, TCDB, TCXB

#Testcase bfp-012-loadtest.tst: IEEE Load and Test, Test Data Class
#..Includes LOAD AND TEST (3), TEST DATA CLASS (3), 6 instructions total.
#..Test case values exhaustively test above instructions.

sysclear
archmode esame

#
# Following suppresses logging of program checks.  This test program, as part
# of its normal operation, generates 6 program check messages that have no
# value in the validation process.  (The messages, not the program checks.)
#
ostailor quiet

loadcore "$(testpath)/bfp-012-loadtest.core"
runtest 1.0

ostailor null   # restore messages for subsequent tests


# Test Results - Load and Test
# Operand 1 from Load and Test is stored (one pair, non-trap and trap)
# Condition code is stored in first two bytes of condition codes, 
# ..followed by DXC from trappable execution in byte three.

# Test Results - Test Data Class
# 13 Condition codes are stored starting at byte four (displacement three)
# of the condition code table.  



# Short BFP test results - Load and Test
*Compare
r 1000.10
*Want "LTEBR +/-0"     00000000 00000000 80000000 80000000
r 1010.10
*Want "LTEBR +/-1"     3F800000 3F800000 BF800000 BF800000
r 1020.10
*Want "LTEBR +/-tiny"  007FFFFF 007FFFFF 807FFFFF 807FFFFF
r 1030.10
*Want "LTEBR +/-inf"   7F800000 7F800000 FF800000 FF800000
r 1040.10
*Want "LTEBR +/-QNaN"  7FC00000 7FC00000 FFC00000 FFC00000
r 1050.10
*Want "LTEBR +/-SNaN"  7FC10000 0000DEAD FFC10000 0000DEAD

# Short BFP test results - Test Data Class
*Compare
r 1100.10
*Want "TCEB CC +0"     00000001 00000000 00000000 00000000
r 1110.10
*Want "TCEB CC -0"     00000000 01000000 00000000 00000000
r 1120.10
*Want "TCEB CC +1"     02020000 00010000 00000000 00000000
r 1130.10
*Want "TCEB CC -1"     01010000 00000100 00000000 00000000
r 1140.10
*Want "TCEB CC +tiny"  02020000 00000001 00000000 00000000
r 1150.10
*Want "TCEB CC -tiny"  01010000 00000000 01000000 00000000
r 1160.10
*Want "TCEB CC +inf"   02020000 00000000 00010000 00000000
r 1170.10
*Want "TCEB CC -inf"   01010000 00000000 00000100 00000000
r 1180.10
*Want "TCEB CC +QNaN"  03030000 00000000 00000001 00000000
r 1190.10
*Want "TCEB CC -QNaN"  03030000 00000000 00000000 01000000
r 11A0.10
*Want "TCEB CC +SNaN"  03028000 00000000 00000000 00010000
r 11B0.10
*Want "TCEB CC -SNaN"  03028000 00000000 00000000 00000100


# Long BFP test results - Load and Test
*Compare
r 2000.10
*Want "LTDBR +0"     00000000 00000000 00000000 00000000
r 2010.10
*Want "LTDBR -0"     80000000 00000000 80000000 00000000
r 2020.10
*Want "LTDBR +1"     3FF00000 00000000 3FF00000 00000000
r 2030.10
*Want "LTDBR -1"     BFF00000 00000000 BFF00000 00000000
r 2040.10
*Want "LTDBR +tiny"  000FFFFF FFFFFFFF 000FFFFF FFFFFFFF
r 2050.10
*Want "LTDBR -tiny"  800FFFFF FFFFFFFF 800FFFFF FFFFFFFF
r 2060.10
*Want "LTDBR +inf"   7FF00000 00000000 7FF00000 00000000
r 2070.10
*Want "LTDBR -inf"   FFF00000 00000000 FFF00000 00000000
r 2080.10
*Want "LTDBR +QNaN"  7FF80000 00000000 7FF80000 00000000
r 2090.10
*Want "LTDBR -QNaN"  FFF80000 00000000 FFF80000 00000000
r 20A0.10
*Want "LTDBR +SNaN"  7FF81000 00000000 0000DEAD 00000000
r 20B0.10
*Want "LTDBR -SNaN"  FFF81000 00000000 0000DEAD 00000000


# Long BFP test results - Test Data Class
*Compare
r 2100.10
*Want "TCDB CC +0"     00000001 00000000 00000000 00000000
r 2110.10
*Want "TCDB CC -0"     00000000 01000000 00000000 00000000
r 2120.10
*Want "TCDB CC +1"     02020000 00010000 00000000 00000000
r 2130.10
*Want "TCDB CC -1"     01010000 00000100 00000000 00000000
r 2140.10
*Want "TCDB CC +tiny"  02020000 00000001 00000000 00000000
r 2150.10
*Want "TCDB CC -tiny"  01010000 00000000 01000000 00000000
r 2160.10
*Want "TCDB CC +inf"   02020000 00000000 00010000 00000000
r 2170.10
*Want "TCDB CC -inf"   01010000 00000000 00000100 00000000
r 2180.10
*Want "TCDB CC +QNaN"  03030000 00000000 00000001 00000000
r 2190.10
*Want "TCDB CC -QNaN"  03030000 00000000 00000000 01000000
r 21A0.10
*Want "TCDB CC +SNaN"  03018000 00000000 00000000 00010000
r 21B0.10
*Want "TCDB CC -SNaN"  03018000 00000000 00000000 00000100


# Extended BFP test results - Load and Test
*Compare
r 3000.10
*Want "LTXBR +/0 NT"    00000000 00000000 00000000 00000000
r 3010.10
*Want "LTXBR +/0 TR"    00000000 00000000 00000000 00000000
r 3020.10
*Want "LTXBR -0 NT"     80000000 00000000 00000000 00000000
r 3030.10
*Want "LTXBR -0 TR"     80000000 00000000 00000000 00000000
r 3040.10
*Want "LTXBR +1 NT"     3FFF0000 00000000 00000000 00000000
r 3050.10
*Want "LTXBR +1 TR"     3FFF0000 00000000 00000000 00000000
r 3060.10
*Want "LTXBR -1 NT"     BFFF0000 00000000 00000000 00000000
r 3070.10
*Want "LTXBR -1 TR"     BFFF0000 00000000 00000000 00000000
r 3080.10
*Want "LTXBR +tiny NT"  0000FFFF FFFFFFFF FFFFFFFF FFFFFFFF
r 3090.10
*Want "LTXBR +tiny"     0000FFFF FFFFFFFF FFFFFFFF FFFFFFFF
r 30A0.10
*Want "LTXBR -tiny NT"  8000FFFF FFFFFFFF FFFFFFFF FFFFFFFF
r 30B0.10
*Want "LTXBR -tiny TR"  8000FFFF FFFFFFFF FFFFFFFF FFFFFFFF
r 30C0.10
*Want "LTXBR +inf NT"   7FFF0000 00000000 00000000 00000000
r 30D0.10
*Want "LTXBR +inf TR"   7FFF0000 00000000 00000000 00000000
r 30E0.10
*Want "LTXBR -inf NT"   FFFF0000 00000000 00000000 00000000
r 30F0.10
*Want "LTXBR -inf TR"   FFFF0000 00000000 00000000 00000000
r 3100.10
*Want "LTXBR +QNaN NT"  7FFF8000 00000000 00000000 00000000
r 3110.10
*Want "LTXBR +QNaN"     7FFF8000 00000000 00000000 00000000
r 3120.10
*Want "LTXBR -QNaN NT"  FFFF8000 00000000 00000000 00000000
r 3130.10
*Want "LTXBR -QNaN TR"  FFFF8000 00000000 00000000 00000000
r 3140.10
*Want "LTXBR +SNaN NT"  7FFF8100 00000000 00000000 00000000
r 3150.10
*Want "LTXBR +SNaN TR"  0000DEAD 00000000 00000000 00000000
r 3160.10
*Want "LTXBR -SNaN NT"  FFFF8100 00000000 00000000 00000000
r 3170.10
*Want "LTXBR -SNaN TR"  0000DEAD 00000000 00000000 00000000


# Extended BFP test results - Test Data Class
*Compare
r 3200.10
*Want "TCXB CC +0"     00000001 00000000 00000000 00000000
r 3210.10
*Want "TCXB CC -0"     00000000 01000000 00000000 00000000
r 3220.10
*Want "TCXB CC +1"     02020000 00010000 00000000 00000000
r 3230.10
*Want "TCXB CC -1"     01010000 00000100 00000000 00000000
r 3240.10
*Want "TCXB CC +tiny"  02020000 00000001 00000000 00000000
r 3250.10
*Want "TCXB CC -tiny"  01010000 00000000 01000000 00000000
r 3260.10
*Want "TCXB CC +inf"   02020000 00000000 00010000 00000000
r 3270.10
*Want "TCXB CC -inf"   01010000 00000000 00000100 00000000
r 3280.10
*Want "TCXB CC +QNaN"  03030000 00000000 00000001 00000000
r 3290.10
*Want "TCXB CC -QNaN"  03030000 00000000 00000000 01000000
r 32A0.10
*Want "TCXB CC +SNaN"  03008000 00000000 00000000 00010000
r 32B0.10
*Want "TCXB CC -SNaN"  03008000 00000000 00000000 00000100


*Done
