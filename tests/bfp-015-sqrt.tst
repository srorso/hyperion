*Testcase bfp-015-sqrt.tst:       SQEBR, SQEB, SQDBR, SQDB, SQXBR

#Testcase bfp-015-sqrts.tst: IEEE Square Root
#..Includes SQUARE ROOT (5), 5 instructions total.  Test cases cover
#..NaN propagation, non-finite and negative input values, rounding,
#..invalid and inexact traps, and DXC codes for incremented. 

sysclear
archmode esame

#
# Following suppresses logging of program checks.  This test program, as part
# of its normal operation, generates 25 program check messages that have no
# value in the validation process.
#
ostailor quiet

loadcore "$(testpath)/bfp-015-sqrt.core"
runtest 1.0

ostailor null   # restore messages for subsequent tests


# Short BFP Basic test results
*Compare
r 1000.10 
*Want "SQEBR/SQEB -inf"     7FC00000 00000000 7FC00000 00000000
r 1010.10 
*Want "SQEBR/SQEB -4"       7FC00000 00000000 7FC00000 00000000
r 1020.10 
*Want "SQEBR/SQEB -0"       80000000 80000000 80000000 80000000
r 1030.10 
*Want "SQEBR/SQEB +0"       00000000 00000000 00000000 00000000
r 1040.10 
*Want "SQEBR/SQEB +4"       40000000 40000000 40000000 40000000
r 1050.10 
*Want "SQEBR/SQEB +inf"     7F800000 7F800000 7F800000 7F800000
r 1060.10 
*Want "SQEBR/SQEB -QNaN"    FFCB0000 FFCB0000 FFCB0000 FFCB0000
r 1070.10 
*Want "SQEBR/SQEB +SNaN"    7FCA0000 00000000 7FCA0000 00000000
r 1080.10 
*Want "SQEBR/SQEB +3"       3FDDB3D7 3FDDB3D7 3FDDB3D7 3FDDB3D7
r 1090.10 
*Want "SQEBR/SQEB +5"       400F1BBD 400F1BBD 400F1BBD 400F1BBD
r 10A0.10 
*Want "SQEBR/SQEB +0.0625"  3E800000 3E800000 3E800000 3E800000


# Short BFP Basic test results - FPCR contents
*Compare
r 1100.10 
*Want "SQEBR/SQEB -inf FPCR"     00800000 F8008000 00800000 F8008000
r 1110.10 
*Want "SQEBR/SQEB -4 FPCR"       00800000 F8008000 00800000 F8008000
r 1120.10 
*Want "SQEBR/SQEB -0 FPCR"       00000000 F8000000 00000000 F8000000
r 1130.10 
*Want "SQEBR/SQEB +0 FPCR"       00000000 F8000000 00000000 F8000000
r 1140.10 
*Want "SQEBR/SQEB +4 FPCR"       00000000 F8000000 00000000 F8000000
r 1150.10 
*Want "SQEBR/SQEB +inf FPCR"     00000000 F8000000 00000000 F8000000
r 1160.10 
*Want "SQEBR/SQEB -QNaN FPCR"    00000000 F8000000 00000000 F8000000
r 1170.10 
*Want "SQEBR/SQEB +SNaN FPCR"    00800000 F8008000 00800000 F8008000
r 1180.10 
*Want "SQEBR/SQEB +3 FPCR"       00080000 F8000800 00080000 F8000800
r 1190.10 
*Want "SQEBR/SQEB +5 FPCR"       00080000 F8000C00 00080000 F8000C00
r 11A0.10 
*Want "SQEBR/SQEB +0.0625 FPCR"  00000000 F8000000 00000000 F8000000


# Short BFP rounding mode test results
*Compare
r 1200.10  
*Want "SQEBR/SQEB RM RNTE,RZ +3"  3FDDB3D7 3FDDB3D7 3FDDB3D7 3FDDB3D7
r 1210.10  
*Want "SQEBR/SQEB RM RP,RM +3"    3FDDB3D8 3FDDB3D8 3FDDB3D7 3FDDB3D7
r 1220.08  
*Want "SQEBR/SQEB RM RFS +3"      3FDDB3D7 3FDDB3D7
r 1230.10  
*Want "SQEBR/SQEB RM RNTE,RZ +5"  400F1BBD 400F1BBD 400F1BBC 400F1BBC
r 1240.10  
*Want "SQEBR/SQEB RM RP,RM +5"    400F1BBD 400F1BBD 400F1BBC 400F1BBC
r 1250.08  
*Want "SQEBR/SQEB RM RFS +5"      400F1BBD 400F1BBD


# Short BFP rounding mode test results - FPCR contents
*Compare
r 1400.10
*Want "SQEBR/SQEB RM RNTE,RZ +3 FPCR"  00080000 00080000 00080001 00080001
r 1410.10  
*Want "SQEBR/SQEB RM RP,RM +3 FPCR"    00080002 00080002 00080003 00080003
r 1420.08  
*Want "SQEBR/SQEB RM RFS +3 FPCR"      00080007 00080007
r 1430.10  
*Want "SQEBR/SQEB RM RNTE,RZ +5 FPCR"  00080000 00080000 00080001 00080001
r 1440.10  
*Want "SQEBR/SQEB RM RP,RM +5 FPCR"    00080002 00080002 00080003 00080003
r 1450.08  
*Want "SQEBR/SQEB RM RFS +5 FPCR"      00080007 00080007


# Long BFP basic test results
*Compare
r 3000.10  
*Want "SQDBR -inf"   7FF80000 00000000 00000000 00000000
r 3010.10  
*Want "SQDB  -inf"   7FF80000 00000000 00000000 00000000
r 3020.10  
*Want "SQDBR -4"     7FF80000 00000000 00000000 00000000
r 3030.10  
*Want "SQDB  -4"     7FF80000 00000000 00000000 00000000
r 3040.10  
*Want "SQDBR -0"     80000000 00000000 80000000 00000000
r 3050.10  
*Want "SQDB  -0"     80000000 00000000 80000000 00000000
r 3060.10  
*Want "SQDBR +0"     00000000 00000000 00000000 00000000
r 3070.10  
*Want "SQDB  +0"     00000000 00000000 00000000 00000000
r 3080.10  
*Want "SQDBR +4"     40000000 00000000 40000000 00000000
r 3090.10  
*Want "SQDB  +4"     40000000 00000000 40000000 00000000
r 30A0.10  
*Want "SQDBR +inf"   7FF00000 00000000 7FF00000 00000000
r 30B0.10  
*Want "SQDB  +inf"   7FF00000 00000000 7FF00000 00000000
r 30C0.10  
*Want "SQDBR -QNaN"  FFF8B000 00000000 FFF8B000 00000000
r 30D0.10  
*Want "SQDB  -QNaN"  FFF8B000 00000000 FFF8B000 00000000
r 30E0.10  
*Want "SQDBR +SNaN"  7FF8A000 00000000 00000000 00000000
r 30F0.10  
*Want "SQDB  +SNaN"  7FF8A000 00000000 00000000 00000000
r 3100.10  
*Want "SQDBR +3"     3FFBB67A E8584CAA 3FFBB67A E8584CAA
r 3110.10  
*Want "SQDB  +3"     3FFBB67A E8584CAA 3FFBB67A E8584CAA
r 3120.10  
*Want "SQDBR +5"     4001E377 9B97F4A8 4001E377 9B97F4A8
r 3130.10  
*Want "SQDB  +5"     4001E377 9B97F4A8 4001E377 9B97F4A8
r 3140.10  
*Want "SQDBR 0.0625" 3FD00000 00000000 3FD00000 00000000
r 3150.10  
*Want "SQDB  0.0625" 3FD00000 00000000 3FD00000 00000000


# Long BFP Basic test results - FPCR contents
*Compare
r 3200.10 
*Want "SQDBR/SQDB -inf FPCR"     00800000 F8008000 00800000 F8008000
r 3210.10 
*Want "SQDBR/SQDB -4 FPCR"       00800000 F8008000 00800000 F8008000
r 3220.10 
*Want "SQDBR/SQDB -0 FPCR"       00000000 F8000000 00000000 F8000000
r 3230.10 
*Want "SQDBR/SQDB +0 FPCR"       00000000 F8000000 00000000 F8000000
r 3240.10 
*Want "SQDBR/SQDB +4 FPCR"       00000000 F8000000 00000000 F8000000
r 3250.10 
*Want "SQDBR/SQDB +inf FPCR"     00000000 F8000000 00000000 F8000000
r 3260.10 
*Want "SQDBR/SQDB -QNaN FPCR"    00000000 F8000000 00000000 F8000000
r 3270.10 
*Want "SQDBR/SQDB +SNaN FPCR"    00800000 F8008000 00800000 F8008000
r 3280.10 
*Want "SQDBR/SQDB +3 FPCR"       00080000 F8000800 00080000 F8000800
r 3290.10 
*Want "SQDBR/SQDB +5 FPCR"       00080000 F8000C00 00080000 F8000C00
r 32A0.10 
*Want "SQDBR/SQDB +0.0625 FPCR"  00000000 F8000000 00000000 F8000000


# Long BFP rounding mode tests
*Compare
r 3400.10  
*Want "SQDBR/SQDB RM RNTE +3"  3FFBB67A E8584CAA 3FFBB67A E8584CAA
r 3410.10  
*Want "SQDBR/SQDB RM RZ +3"    3FFBB67A E8584CAA 3FFBB67A E8584CAA
r 3420.10  
*Want "SQDBR/SQDB RM RP +3"    3FFBB67A E8584CAB 3FFBB67A E8584CAB
r 3430.10  
*Want "SQDBR/SQDB RM RM +3"    3FFBB67A E8584CAA 3FFBB67A E8584CAA
r 3440.10  
*Want "SQDBR/SQDB RM RFS +3"   3FFBB67A E8584CAB 3FFBB67A E8584CAB
r 3450.10  
*Want "SQDBR/SQDB RM RNTE +5"  4001E377 9B97F4A8 4001E377 9B97F4A8
r 3460.10  
*Want "SQDBR/SQDB RM RZ +5"    4001E377 9B97F4A7 4001E377 9B97F4A7
r 3470.10  
*Want "SQDBR/SQDB RM RP +5"    4001E377 9B97F4A8 4001E377 9B97F4A8
r 3480.10  
*Want "SQDBR/SQDB RM RM +5"    4001E377 9B97F4A7 4001E377 9B97F4A7
r 3490.10  
*Want "SQDBR/SQDB RM RFS +5"   4001E377 9B97F4A7 4001E377 9B97F4A7


# Long BFP rounding mode tests - FPCR contents
*Compare 
r 3700.10
*Want "SQEBR/SQEB RM RNTE,RZ +3 FPCR"  00080000 00080000 00080001 00080001
r 3710.10  
*Want "SQEBR/SQEB RM RP,RM +3 FPCR"    00080002 00080002 00080003 00080003
r 3720.08  
*Want "SQEBR/SQEB RM RFS +3 FPCR"      00080007 00080007
r 3730.10  
*Want "SQEBR/SQEB RM RNTE,RZ +5 FPCR"  00080000 00080000 00080001 00080001
r 3740.10  
*Want "SQEBR/SQEB RM RP,RM +5 FPCR"    00080002 00080002 00080003 00080003
r 3750.08  
*Want "SQEBR/SQEB RM RFS +5 FPCR"      00080007 00080007


# Extended BFP basic test results
*Compare
r 5000.10  
*Want "SQXBR NT -inf"   7FFF8000 00000000 00000000 00000000
r 5010.10  
*Want "SQXBR Tr -inf"   00000000 00000000 00000000 00000000
r 5020.10  
*Want "SQXBR NT -4"     7FFF8000 00000000 00000000 00000000
r 5030.10  
*Want "SQXBR Tr -4"     00000000 00000000 00000000 00000000
r 5040.10  
*Want "SQXBR NT -0"     80000000 00000000 00000000 00000000
r 5050.10  
*Want "SQXBR Tr -0"     80000000 00000000 00000000 00000000
r 5060.10  
*Want "SQXBR NT +0"     00000000 00000000 00000000 00000000
r 5070.10  
*Want "SQXBR Tr +0"     00000000 00000000 00000000 00000000
r 5080.10  
*Want "SQXBR NT +4"     40000000 00000000 00000000 00000000
r 5090.10  
*Want "SQXBR Tr +4"     40000000 00000000 00000000 00000000
r 50A0.10  
*Want "SQXBR NT +inf"   7FFF0000 00000000 00000000 00000000
r 50B0.10  
*Want "SQXBR Tr +inf"   7FFF0000 00000000 00000000 00000000
r 50C0.10  
*Want "SQXBR NT -QNaN"  FFFF8B00 00000000 00000000 00000000
r 50D0.10  
*Want "SQXBR Tr -QNaN"  FFFF8B00 00000000 00000000 00000000
r 50E0.10  
*Want "SQXBR NT +SNaN"  7FFF8A00 00000000 00000000 00000000
r 50F0.10  
*Want "SQXBR Tr +SNaN"  00000000 00000000 00000000 00000000
r 5100.10  
*Want "SQXBR NT +3"     3FFFBB67 AE8584CA A73B2574 2D7078B8
r 5110.10  
*Want "SQXBR Tr +3"     3FFFBB67 AE8584CA A73B2574 2D7078B8
r 5120.10  
*Want "SQXBR NT +5"     40001E37 79B97F4A 7C15F39C C0605CEE
r 5130.10  
*Want "SQXBR Tr +5"     40001E37 79B97F4A 7C15F39C C0605CEE
r 5140.10  
*Want "SQXBR NT 0.0625" 3FFD0000 00000000 00000000 00000000
r 5150.10  
*Want "SQXBR Tr 0.0625" 3FFD0000 00000000 00000000 00000000


# Extended BFP Basic test results - FPCR contents
*Compare
r 5400.08 
*Want "SQXBR -inf FPCR"     00800000 F8008000
r 5410.08 
*Want "SQXBR -4 FPCR"       00800000 F8008000
r 5420.08 
*Want "SQXBR -0 FPCR"       00000000 F8000000
r 5430.08 
*Want "SQXBR +0 FPCR"       00000000 F8000000
r 5440.08 
*Want "SQXBR +4 FPCR"       00000000 F8000000
r 5450.08 
*Want "SQXBR +inf FPCR"     00000000 F8000000
r 5460.08 
*Want "SQXBR -QNaN FPCR"    00000000 F8000000
r 5470.08 
*Want "SQXBR +SNaN FPCR"    00800000 F8008000
r 5480.08 
*Want "SQXBR +3 FPCR"       00080000 F8000800
r 5490.08 
*Want "SQXBR +5 FPCR"       00080000 F8000C00
r 54A0.08 
*Want "SQXBR +0.0625 FPCR"  00000000 F8000000


# Extended BFP rounding mode test results
*Compare
r 5500.10  
*Want "SQXBR RM RNTE +3"  3FFFBB67 AE8584CA A73B2574 2D7078B8
r 5510.10  
*Want "SQXBR RM RZ +3"    3FFFBB67 AE8584CA A73B2574 2D7078B8
r 5520.10  
*Want "SQXBR RM RP +3"    3FFFBB67 AE8584CA A73B2574 2D7078B9
r 5530.10  
*Want "SQXBR RM RM +3"    3FFFBB67 AE8584CA A73B2574 2D7078B8
r 5540.10  
*Want "SQXBR RM RFS +3"   3FFFBB67 AE8584CA A73B2574 2D7078B9
r 5550.10  
*Want "SQXBR RM RNTE +5"  40001E37 79B97F4A 7C15F39C C0605CEE
r 5560.10  
*Want "SQXBR RM RZ +5"    40001E37 79B97F4A 7C15F39C C0605CED
r 5570.10  
*Want "SQXBR RM RP +5"    40001E37 79B97F4A 7C15F39C C0605CEE
r 5580.10  
*Want "SQXBR RM RM +5"    40001E37 79B97F4A 7C15F39C C0605CED
r 5590.10  
*Want "SQXBR RM RFS +5"   40001E37 79B97F4A 7C15F39C C0605CED


# Extended BFP rounding mode test results - FPCR contents
*Compare
r 5A00.10
*Want "SQXBR RM RTNE,RZ,RP,RM +3 FPCR"  00080000 00080001 00080002 00080003
r 5A10.04
*Want "SQXBR RM RFS +3 FPCR"            00080007
r 5A20.10
*Want "SQXBR RM RTNE,RZ,RP,RM +5 FPCR"  00080000 00080001 00080002 00080003
r 5A30.04
*Want "SQXBR RM RFS +5 FPCR"            00080007


*Done

